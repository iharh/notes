18
https://t.me/pg_guru/1029
*****
–£–∂–µ –∑–∞–≤—Ç—Ä–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–π—Ç–∏ –Ω–æ–≤–∞—è, 18—è –≤–µ—Ä—Å–∏—è PostgreSQL! –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –µ—â–µ –æ–¥–Ω–æ —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏. –≠—Ç–æ —É–ª—É—á—à–µ–Ω–∏–µ —Ä–µ—à–∞–µ—Ç –¥–∞–≤–Ω–µ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, –∫–æ–≥–¥–∞ –º–Ω–æ–≥–æ–∫–æ–ª–æ–Ω–æ—á–Ω—ã–µ B-tree –∏–Ω–¥–µ–∫—Å—ã –º–æ–≥–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö, –≤–∫–ª—é—á–∞—é—â–∏—Ö —É—Å–ª–æ–≤–∏—è —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ –¥–ª—è –≤–µ–¥—É—â–∏—Ö (–∫—Ä–∞–π–Ω–∏—Ö —Å–ª–µ–≤–∞) —Å—Ç–æ–ª–±—Ü–æ–≤ –∏–Ω–¥–µ–∫—Å–∞.

–î–æ PostgreSQL 18, –µ—Å–ª–∏ —É –≤–∞—Å –±—ã–ª –∏–Ω–¥–µ–∫—Å –ø–æ (region, category, date), –∏ –≤—ã —Ö–æ—Ç–µ–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å –ø–æ category –∏ date, –Ω–µ —É–∫–∞–∑—ã–≤–∞—è region, PostgreSQL –æ–±—ã—á–Ω–æ –ø—Ä–∏–±–µ–≥–∞–ª –∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º—É —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é —Ç–∞–±–ª–∏—Ü—ã –∏–ª–∏ –º–µ–Ω–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–º—É —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é –∏–Ω–¥–µ–∫—Å–∞. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è skip scan –º–µ–Ω—è–µ—Ç —ç—Ç–æ, –ø–æ–∑–≤–æ–ª—è—è PostgreSQL –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ "–ø—Ä–æ–ø—É—Å–∫–∞—Ç—å" —á–∞—Å—Ç–∏ –∏–Ω–¥–µ–∫—Å–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ä–µ–ª–µ–≤–∞—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –¥–∞–∂–µ –µ—Å–ª–∏ –≤–µ–¥—É—â–∏–µ —Å—Ç–æ–ª–±—Ü—ã –ø—Ä–æ–ø—É—â–µ–Ω—ã –≤ –∑–∞–ø—Ä–æ—Å–µ.

–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –≤–∞–∂–Ω–æ—Å—Ç—å skip scan, –¥–∞–≤–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ –º–Ω–æ–≥–æ–∫–æ–ª–æ–Ω–æ—á–Ω—ã–µ B-tree –∏–Ω–¥–µ–∫—Å—ã –∏ –∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.

–í –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö PostgreSQL –º–Ω–æ–≥–æ–∫–æ–ª–æ–Ω–æ—á–Ω—ã–µ B-tree –∏–Ω–¥–µ–∫—Å—ã –±—ã–ª–∏ –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã, –∫–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å—ã –≤–∫–ª—é—á–∞–ª–∏ —É—Å–ª–æ–≤–∏—è –ø–æ –≤–µ–¥—É—â–∏–º —Å—Ç–æ–ª–±—Ü–∞–º. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–Ω–¥–µ–∫—Å–∞ –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å–Ω–∞—á–∞–ª–∞ –ø–æ –ø–µ—Ä–≤–æ–º—É —Å—Ç–æ–ª–±—Ü—É, –∑–∞—Ç–µ–º –ø–æ –≤—Ç–æ—Ä–æ–º—É —Å—Ç–æ–ª–±—Ü—É –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–∞–∂–¥–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

–ü—Ä–∏–º–µ—Ä:

CREATE INDEX idx_sales_region_category_date
ON sales (region, category, date);

-–≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–µ–∫—Å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ:

SELECT * FROM sales
WHERE region = 'North' AND category = 'Electronics';

-–≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ (–¥–æ PG18):

SELECT * FROM sales
WHERE category = 'Electronics' AND date > '2025-01-01';

–í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –≤—ã—à–µ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–ª –æ—Ç PostgreSQL —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ –∏–Ω–¥–µ–∫—Å–∞ –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º—É —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é —Ç–∞–±–ª–∏—Ü—ã, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ–¥—É—â–∏–π —Å—Ç–æ–ª–±–µ—Ü region.

Skip scan —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –ø–æ–∑–≤–æ–ª—è—è PostgreSQL —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏–Ω–¥–µ–∫—Å–∞, –¥–∞–∂–µ –µ—Å–ª–∏ –≤–µ–¥—É—â–∏–µ —Å—Ç–æ–ª–±—Ü—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –∑–∞–ø—Ä–æ—Å–µ. –≠—Ç–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –∑–∞ —Å—á–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ –Ω–µ—É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤–µ–¥—É—â–∏—Ö —Å—Ç–æ–ª–±—Ü–∞—Ö –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ü–µ–ª–µ–≤–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è skip scan –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –∫–æ–≥–¥–∞ –≤–µ–¥—É—â–∏–µ —Å—Ç–æ–ª–±—Ü—ã –±—É–¥—É—Ç —Å –Ω–∏–∑–∫–æ–π –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é. –¢. –µ. Skip scan —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ –≤—Å–µ–≥–æ, –∫–æ–≥–¥–∞ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –≤–µ–¥—É—â–∏–µ —Å—Ç–æ–ª–±—Ü—ã –∏–º–µ—é—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–º–Ω–æ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ —Å—É—Ç–∏, –≤—ã–ø–æ–ª–Ω—è—è –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –≤–µ–¥—É—â–∏—Ö —Å—Ç–æ–ª–±—Ü–∞—Ö, –ø–æ—ç—Ç–æ–º—É –º–µ–Ω—å—à–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –æ–∑–Ω–∞—á–∞–µ—Ç –º–µ–Ω—å—à–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π.

–•–æ—Ç—è skip scan –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–æ –º–Ω–æ–≥–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö, –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –µ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.

Skip scan –ø–æ–ª–µ–∑–µ–Ω –Ω–µ –≤–æ –≤—Å–µ—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö:

‚ùå –í–µ–¥—É—â–∏–µ —Å—Ç–æ–ª–±—Ü—ã —Å –≤—ã—Å–æ–∫–æ–π –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é. –ö–æ–≥–¥–∞ –≤–µ–¥—É—â–∏–π —Å—Ç–æ–ª–±–µ—Ü –∏–º–µ–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, skip scan —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º;

‚ùå –ë–æ–ª—å—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–µ –Ω–∞–±–æ—Ä—ã.
–ö–æ–≥–¥–∞ –≤–∞—à –∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å —Ç–∞–±–ª–∏—Ü—ã, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ã—á–Ω–æ –±—ã—Å—Ç—Ä–µ–µ.

–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ PostgreSQL –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–æ–≥–¥–∞ skip scan —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–µ–Ω, –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –∏ –æ—Ü–µ–Ω–æ–∫ —Å—Ç–æ–∏–º–æ—Å—Ç–∏. –í–∞–º –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å, –∫–æ–≥–¥–∞ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å - –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≤—ã–±–∏—Ä–∞–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ç–∞–±–ª–∏—Ü, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø—Ä–∏–Ω—è—Ç–∏–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º —Ö–æ—Ä–æ—à–∏—Ö —Ä–µ—à–µ–Ω–∏–π –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ skip scan. –°–≤–µ–∂–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–º–æ–≥–∞–µ—Ç PostgreSQL —Ç–æ—á–Ω–æ –æ—Ü–µ–Ω–∏–≤–∞—Ç—å –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å—Ç–æ–ª–±—Ü–æ–≤ –∏–Ω–¥–µ–∫—Å–∞ –∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é skip scan.

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

Skip scan –≤ PostgreSQL 18 –∏–º–µ–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é –æ–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:

üìå –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ —Ç–∏–ø–∞ B-tree;
üìå –ù–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω, –∫–æ–≥–¥–∞ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –≤–µ–¥—É—â–∏–µ —Å—Ç–æ–ª–±—Ü—ã –∏–º–µ—é—Ç –Ω–∏–∑–∫—É—é –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å;
üìå –¢—Ä–µ–±—É–µ—Ç –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ –æ–¥–Ω–æ —É—Å–ª–æ–≤–∏–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ –≤ –∏–Ω–¥–µ–∫—Å–µ;
üìå –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –ø–æ –º–µ—Ä–µ —Ä–æ—Å—Ç–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–∞—Ö.

–ñ–¥–µ–º PostgreSQL 18  —Å –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º! üòÅ

17
https://www.postgresql.org/about/news/postgresql-17-released-2936/
    https://www.postgresql.org/docs/17/release-17.html
https://www.postgresql.org/about/news/postgresql-17-rc1-released-2926/
    https://www.youtube.com/watch?v=peLXtGorl8A
    https://habr.com/ru/companies/postgrespro/articles/841408/
Otus - Whats New in PG 17 ru of 1:26:49
    https://www.youtube.com/watch?v=pAmFehV-ZV8

16
https://www.postgresql.org/about/news/postgresql-16-released-2715/
    https://www.opennet.ru/opennews/art.shtml?num=59758
    https://www.youtube.com/watch?v=iM-wVbhf8-E

15
https://www.postgresql.org/about/news/postgresql-15-released-2526/
    https://www.opennet.ru/opennews/art.shtml?num=57914
    https://www.linux.org.ru/news/opensource/16998959
    https://www.postgresql.org/docs/15/release-15.html
    https://www.postgresql.org/docs/15/sql-createstatistics.html
    https://www.crunchydata.com/blog/be-ready-public-schema-changes-in-postgres-15

14
https://www.postgresql.org/about/news/postgresql-14-released-2318/
    https://www.opennet.ru/opennews/art.shtml?num=55891
    https://www.linux.org.ru/news/opensource/16565136
    https://linuxiac.com/postgresql-14/

13
https://www.postgresql.org/docs/13/release-13.html
https://www.postgresql.org/about/press/presskit13/ru/
    https://www.opennet.ru/opennews/art.shtml?num=53774
    
12
https://www.postgresql.org/about/news/1976/
    https://www.opennet.ru/opennews/art.shtml?num=51604

11
https://www.postgresql.org/about/news/1894/
    http://www.opennet.ru/opennews/art.shtml?num=49462
    https://habr.com/company/postgrespro/blog/426745/
https://habr.com/company/raiffeisenbank/blog/414031/
https://habr.com/company/raiffeisenbank/blog/416187/

10
Postgres 10, Performance, and You
https://www.youtube.com/watch?v=nzDG5q5r-gY
https://habrahabr.ru/company/postgrespro/blog/352144/
https://wiki.postgresql.org/wiki/New_in_postgres_10
https://www.postgresql.org/about/news/1786/
