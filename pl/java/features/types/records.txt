***************************************
–°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏ –∫–ª–∞—Å—Å –ø—Ä–æ—Å—Ç–æ —á—Ç–æ–±—ã "–ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ" –∏–∑ —Ç–æ—á–∫–∏ –ê –≤ —Ç–æ—á–∫—É –ë?
–í—ã –ø–∏—à–µ—Ç–µ 3 –ø–æ–ª—è, –∞ –ø–æ—Ç–æ–º IDE –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–∞–º 50 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞: –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –≥–µ—Ç—Ç–µ—Ä—ã, equals, hashCode, toString... ü§Ø

–í Java 16+ —ç—Ç–æ–º—É –ø–æ–ª–æ–∂–∏–ª–∏ –∫–æ–Ω–µ—Ü. –í—Å—Ç—Ä–µ—á–∞–π—Ç–µ Records.

üìâ –ë—ã–ª–æ vs –°—Ç–∞–ª–æ

–î–æ–ø—É—Å—Ç–∏–º, –Ω–∞–º –Ω—É–∂–µ–Ω –ø—Ä–æ—Å—Ç–æ–π DTO –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

‚ùå –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π POJO (Java 1.0 - 15):


public class User {
    private final String name;
    private final int age;

    public User(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public String getName() { return name; }
    public int getAge() { return age; }

    // + equals()
    // + hashCode()
    // + toString() ... –µ—â–µ 30 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
}



‚úÖ Record (Java 16+):


public record User(String name, int age) {}



–í—Å—ë. –≠—Ç–æ –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞. üî•

‚öôÔ∏è –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–µ–ª–∞–µ—Ç –≤—Å—é –≥—Ä—è–∑–Ω—É—é —Ä–∞–±–æ—Ç—É –∑–∞ –≤–∞—Å. –°–æ–∑–¥–∞–≤–∞—è record, –≤—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ:

1. –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è (private final).
2. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–æ –≤—Å–µ–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏.
3. –ì–µ—Ç—Ç–µ—Ä—ã (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ get! –ü—Ä–æ—Å—Ç–æ .name(), .age()).
4. equals() –∏ hashCode() (–∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∫–ª—é—á–µ–π –≤ Map –∏–ª–∏ Set).
5. toString() (–∫—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥: User[name=Alex, age=25]).

üõ† –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è (Compact Constructor)

"–ê —á—Ç–æ, –µ—Å–ª–∏ –º–Ω–µ –Ω—É–∂–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è? –ù–µ–ª—å–∑—è –∂–µ —Å–æ–∑–¥–∞—Ç—å —é–∑–µ—Ä–∞ —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º –≤–æ–∑—Ä–∞—Å—Ç–æ–º!"
–î–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. –í–∞–º –¥–∞–∂–µ –Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—á–∏—Å–ª—è—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã:


public record User(String name, int age) {
    // –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    public User {
        if (age < 0) {
            throw new IllegalArgumentException("–í–æ–∑—Ä–∞—Å—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ 0");
        }
        // –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ this.age = age –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
    }
}



‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å)

Records, —ç—Ç–æ –Ω–µ –∑–∞–º–µ–Ω–∞ –æ–±—ã—á–Ω—ã–º –∫–ª–∞—Å—Å–∞–º –≤–æ –≤—Å–µ–º.

1. –û–Ω–∏ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã (Immutable). –°–µ—Ç—Ç–µ—Ä–æ–≤ –Ω–µ—Ç –∏ –Ω–µ –±—É–¥–µ—Ç. –•–æ—Ç–∏—Ç–µ –ø–æ–º–µ–Ω—è—Ç—å –ø–æ–ª–µ? –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç.
2. –ù–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è. Record –Ω–µ –º–æ–∂–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å (extends) –¥—Ä—É–≥–æ–π –∫–ª–∞—Å—Å (–ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω —É–∂–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç java.lang.Record). –ù–æ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (implements)  –º–æ–∂–Ω–æ!

üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

* DTO (Data Transfer Objects): –û—Ç–≤–µ—Ç—ã –æ—Ç API, –∑–∞–ø—Ä–æ—Å—ã –≤ –ë–î.
* –ö–ª—é—á–∏ –¥–ª—è Map: –ë–ª–∞–≥–æ–¥–∞—Ä—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É equals/hashCode.
* –í–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–æ–≤: –ú–æ–∂–Ω–æ –æ–±—ä—è–≤–ª—è—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ—Ä–¥—ã –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞, —á—Ç–æ–±—ã –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.

Records –¥–µ–ª–∞—é—Ç –∫–æ–¥ —á–∏—â–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ. –û–Ω–∏ –∏–¥–µ–∞–ª—å–Ω–æ —Å–æ—á–µ—Ç–∞—é—Ç—Å—è —Å–æ Stream API, –≥–¥–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è.
–ï—Å–ª–∏ –≤–∞—à –∫–ª–∞—Å—Å —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ "–º–µ—à–æ–∫ —Å –¥–∞–Ω–Ω—ã–º–∏", –ø—Ä–µ–≤—Ä–∞—â–∞–π—Ç–µ –µ–≥–æ –≤ record.
***************************************
