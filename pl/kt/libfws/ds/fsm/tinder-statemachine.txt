https://github.com/Tinder/StateMachine
